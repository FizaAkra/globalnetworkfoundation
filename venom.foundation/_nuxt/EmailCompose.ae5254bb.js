import y from"./KitEmailInput.824eccae.js";import{a as h}from"./KitIcon.vue.03c7151b.js";import"./app.config.6d839814.js";import{d,h as w,T as g,e as E}from"./entry.56bd59df.js";import{N as _,G as S,M as b,V as f,a1 as v,a2 as l,I as a,z as V,X as $,$ as u,a4 as k,a5 as x}from"./runtime-core.esm-bundler.c6ef7338.js";/* empty css                          */const C=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),N=()=>{const o=d(()=>"","$z0fd0SijJP"),e=d(()=>({show:!1,type:null,icon:"",message:""}),"$hFdkxl5WVp"),s=()=>{e.value={show:!1,type:null,icon:"",message:""}},n=_(()=>C(o.value)),r=async()=>{if(!n.value){e.value={show:!0,type:"error",icon:"StatusFail",message:"Enter valid email"};return}s(),await m()?e.value={show:!0,type:"success",icon:"StatusOk",message:"Thank you for subscribing"}:e.value={show:!0,type:"network-error",icon:"StatusFail",message:"Something went wrong"}},m=async()=>{try{const{status:i}=await $fetch("/api/submit-email",{method:"POST",body:{email:o.value}});return i==="success"}catch{return!1}},t=_(()=>n.value&&e.value.type==="error");return S(()=>t.value,()=>s()),{email:o,isEmailValid:n,notification:e,resetNotification:s,submitHandler:r}},F={class:"email-compose"},T={key:0,class:"notification"},I={class:"icon"},K={class:"text"},O=b({__name:"EmailCompose",setup(o){const{email:e,notification:s,submitHandler:n,resetNotification:r}=N();return(m,t)=>{const i=y,p=h;return f(),v("div",F,[l(i,{modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=c=>V(e)?e.value=c:null),placeholder:"Your email",class:"email-input",onKeyup:t[1]||(t[1]=w(c=>a(n)(),["enter"]))},null,8,["modelValue"]),l(g,{name:"notification-transition"},{default:$(()=>[a(s).show?(f(),v("div",T,[u("div",I,[l(p,{name:a(s).icon,fill:""},null,8,["name"])]),u("div",K,k(a(s).message),1),u("div",{class:"close-icon",onClick:t[2]||(t[2]=c=>a(r)())},[l(p,{name:"Close",fill:""})])])):x("",!0)]),_:1})])}}}),j=E(O,[["__scopeId","data-v-5acf3522"]]),G=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{G as E,j as _,N as u};
